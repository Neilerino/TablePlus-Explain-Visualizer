<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PostgreSQL EXPLAIN Visualization</title>
  <!-- CSS will be injected by webpack -->
</head>
<body>
  <div class="app-container">
    <!-- LEFT SIDEBAR -->
    <div class="sidebar left-sidebar" id="leftSidebar">
      <div class="sidebar-header">
        <button class="collapse-btn" id="leftSidebarCollapseBtn" title="Toggle sidebar">◀</button>
      </div>
      <div class="sidebar-content">
        <!-- View Toggle -->
        <div id="viewToggleContainer" class="view-toggle-container"></div>

        <!-- Query Panel -->
        <div class="query-panel" id="queryPanel">
          <h4>Original Query</h4>
          <pre class="query-text"><code class="language-sql" id="queryCode"></code></pre>
        </div>

        <!-- Stats Panel -->
        <div class="stats-panel">
          <h4>Execution Statistics</h4>
          <div id="statsContainer"></div>
        </div>
      </div>
    </div>

    <!-- LEFT RESIZE HANDLE -->
    <div class="resize-handle" id="leftResizeHandle"></div>

    <!-- MAIN CONTENT -->
    <div class="main-content">
      <!-- Zoom Controls (overlays tree container) -->
      <div class="zoom-controls">
        <button class="zoom-btn" id="zoom-in" title="Zoom In">+</button>
        <button class="zoom-btn" id="zoom-out" title="Zoom Out">−</button>
        <button class="zoom-btn" id="zoom-reset" title="Reset Zoom">⊙</button>
      </div>

      <!-- Tree Container (Graph View) -->
      <div id="tree-container" style="display: flex;"></div>

      <!-- Grid Container (Grid View) -->
      <div id="grid-container" style="display: none;"></div>
    </div>

    <!-- RIGHT RESIZE HANDLE -->
    <div class="resize-handle" id="rightResizeHandle"></div>

    <!-- RIGHT SIDEBAR -->
    <div class="sidebar right-sidebar collapsed" id="rightSidebar">
      <div class="sidebar-header">
        <button class="collapse-btn" id="rightSidebarCollapseBtn" title="Toggle sidebar">✕</button>
      </div>
      <div class="sidebar-content">
        <div id="nodeDetails">
          <div class="empty-state">
            <p>Click a node to view details</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- JS will be injected by webpack -->
  <script>
    // Global object for plugin communication
    window.ExplainViz = window.ExplainViz || {};
  </script>
</body>
</html>
